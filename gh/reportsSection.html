<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <section id="reportsSection" class="section-content">
        <div class="table-container">
            <div class="table-header">
                <h2><i class="fas fa-chart-bar"></i> التقارير والإحصائيات</h2>
                <div class="table-actions">
                    <div class="filter-group">
                        <input type="date" id="reportStartDate">
                        <span>إلى</span>
                        <input type="date" id="reportEndDate">
                    </div>
                    <button class="btn btn-success" id="generateReportBtn">
                        <i class="fas fa-filter"></i> تطبيق الفلتر
                    </button>
                </div>
            </div>
            
            <div class="tabs">
                <button class="tab active" data-tab="sales">مبيعات</button>
                <button class="tab" data-tab="products">منتجات</button>
                <button class="tab" data-tab="customers">عملاء</button>
                <button class="tab" data-tab="profitability">ربحية</button>
            </div>
            
            <div class="tab-content active" id="salesTab">
                <div class="chart-container">
                    <canvas id="reportChart"></canvas>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon gradient-1">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="reportTotalSales">0 ر.س</h3>
                            <p>إجمالي المبيعات</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon gradient-2">
                            <i class="fas fa-cart-plus"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="reportOrderCount">0</h3>
                            <p>عدد الطلبات</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon gradient-3">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="reportProductCount">0</h3>
                            <p>عدد المنتجات المباعة</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon gradient-4">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="reportCustomerCount">0</h3>
                            <p>عدد العملاء</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="productsTab">
                <div id="productsReport">
                    <div class="loading">جاري تحميل تقرير المنتجات...</div>
                </div>
            </div>
            
            <div class="tab-content" id="customersTab">
                <div id="customersReport">
                    <div class="loading">جاري تحميل تقرير العملاء...</div>
                </div>
            </div>
            
            <div class="tab-content" id="profitabilityTab">
                <div id="profitabilityReport">
                    <div class="loading">جاري تحميل تقرير الربحية...</div>
                </div>
            </div>
        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
    <script src="admin-functions.js"></script>
</body>
</html>